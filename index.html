<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>我的博客</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>我的前端博客</h1>
        <a href="admin.html">管理文章</a> <!-- 跳转到管理页面的链接 -->
    </header>

    <main id="main-content">
        <h2>文章列表</h2>
        <div id="article-list">
            <!-- 文章列表会被JavaScript动态填充在这里 -->
        </div>
    </main>

    <script>
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 1. 从LocalStorage尝试获取数据
            const savedPosts = JSON.parse(localStorage.getItem('blogPosts')) || [];

            const articleListEl = document.getElementById('article-list');

            if (savedPosts.length === 0) {
                articleListEl.innerHTML = '<p>还没有文章，快去管理页面创建一篇吧！</p>';
            } else {
                // 2. 遍历所有文章数据，生成HTML
                let html = '';
                savedPosts.forEach(post => {
                    html += `
                        <article class="post">
                            <h3>${post.title}</h3>
                            <p><small>发布时间: ${new Date(post.date).toLocaleDateString()}</small></p>
                            <div>${post.content}</div>
                            <hr>
                        </article>
                    `;
                });
                articleListEl.innerHTML = html;
            }
        });
    </script>
</body>
</html>
