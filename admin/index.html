<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理面板</title>
</head>
<body>
  <h1>文章管理系统 - 管理面板</h1>

  <!-- 登录表单 -->
  <div id="loginForm">
    <h2>请输入密码以管理文章</h2>
    <form id="login">
      <input type="password" id="password" placeholder="请输入密码" required>
      <button type="submit">提交</button>
    </form>
  </div>

  <!-- 管理文章表单（默认隐藏，只有验证通过后显示） -->
  <div id="adminPanel" style="display: none;">
    <h2>新增文章</h2>
    <form id="createArticleForm">
      <label for="title">标题:</label>
      <input type="text" id="title" required><br>
      <label for="content">内容:</label><br>
      <textarea id="content" required></textarea><br>
      <button type="submit">新增文章</button>
    </form>
  </div>

  <script>
    const adminPassword = "your-password";  // 设定管理员密码

    // 登录验证
    document.getElementById("login").onsubmit = function(e) {
      e.preventDefault();
      const password = document.getElementById("password").value;
      if (password === adminPassword) {
        // 密码正确，显示管理面板
        localStorage.setItem('isAdmin', true);  // 保存登录状态
        document.getElementById("loginForm").style.display = 'none';
        document.getElementById("adminPanel").style.display = 'block';
        alert("密码正确，欢迎进入管理面板！");
      } else {
        alert("密码错误，请重新输入！");
      }
    };

    // 新增文章
    document.getElementById("createArticleForm").onsubmit = function(e) {
      e.preventDefault();
      const title = document.getElementById("title").value;
      const content = document.getElementById("content").value;

      const newArticle = { title, content };

      // 获取现有文章并添加新文章
      const articles = JSON.parse(localStorage.getItem('articles')) || [];
      articles.push(newArticle);

      // 更新 localStorage
      localStorage.setItem('articles', JSON.stringify(articles));

      alert('文章创建成功！');
      document.getElementById("createArticleForm").reset();  // 重置表单
    };

    // 页面加载时判断是否已登录
    window.onload = function() {
      if (localStorage.getItem('isAdmin')) {
        document.getElementById("loginForm").style.display = 'none';
        document.getElementById("adminPanel").style.display = 'block';
      }
    };
  </script>
</body>
</html>
